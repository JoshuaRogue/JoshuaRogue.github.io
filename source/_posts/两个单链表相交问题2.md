---
title: 两个单链表相交问题2：判断两个无环链表是否相交
date: 2018-1-2 12:02:04
categories: 算法
---

这个问题是第一个问题的后续，判断链表无环的话就可以用这个方法做，因为两个无环的链表相交，最后的一个节点是一样的，用这个思路就可以做出来

##### 总体思路如下：

1. 链表1从头节点开始，一次走一步，记录从头节点走到最后节点的步数n1，并记录最后一个节点end1，链表2则相应地记录n2和end2

2. 若end1！=end2，则两个链表不相交，若end1==end2，则比较n1和n2的大小来得出链表1和链表2哪个长，然后分别返回头节点，短的链表先走n1与n2相差的步数

3. 两个链表同时一次一步，相遇节点即为第一个相交节点

##### 具体代码如下

```
public Node noLoop(Node head1, Node head2) {
        if (head1 == null && head2 == null) {
            return null;
        }
        Node cur1 = head1;
        Node cur2 = head2;
        int n = 0;
        while (cur1.next != null) {
            cur1 = cur1.next;
            n++;
        }
        while (cur2.next != null) {
            cur2 = cur2.next;
            n--;
        }
        if (cur1 != cur2) {
            return null;
        }

        cur1 = n > 0? head1:head2;
        cur2 = head1 == cur1? head2:head1;
        n = Math.abs(n);
        while (n != 0) {
            cur1 = cur1.next;
            n--;
        }
        while (cur1 != cur2) {
            cur1 = cur1.next;
            cur2 = cur2.next;
        }
        return cur1;
    }
```

---
title: 传输层协议：UDP与TCP
date: 2018-11-08 15:41:14
categories: Android网络开发
---

协议 | 特点 | 应用
--- | --- | ---
UDP | 无连接，给应用提供发送数据包功能并允许它们在所需的层次之上架构自己的协议 | 客户-服务器交互和多媒体应用
TCP | 面向连接，建立连接并通过重传机制增加了可靠性，同时还进行流量控制和拥塞控制，为使用它的应用程序做了所有的一切 | 为大多数Internet应用提供可靠的、按序递交的传输

#### UDP

UDP（用户数据包协议）为应用程序提供了一种无需建立连接就可发送封装的IP数据包的方法。

UDP传输的段由8字节的头和有效载荷字段构成。头信息中包含的两个端口（port）分别用来标识源机器和目标机器内部的端点。当一个UDP数据包到来时，它的有效载荷被递交给与目标端口相关联的哪个进程。采用UDP而不是原始IP的最主要价值在于增加了源端口和目标端口。

UDP段中还包含了一个可选的校验和来提供额外的可靠性，当不使用校验和时，则将该字段填为0。

##### 功能总结

UDP只是提供了一个与IP协议的接口，并在此接口上通过端口号复用多个进程的功能，以及可选的端到端错误检测功能。

##### 应用领域

###### 客户机-服务器开发

客户端向服务器发送一个简短的请求报文，并期待来自服务器的简短服务报文。如果请求或回复报文丢失，客户端就会超时，然后再试一次。

> 同时，这也是RPC（远程过程调用）的基础

###### 域名系统

一个程序需要查询某个主机名的IP地址，那么它可以给DNS服务器发送一个包含该主机名的UDP数据包。服务器用一个包含了该主机IP地址的UDP数据包作为应答。实现不需要建立连接，事后也不需要释放连接。只有两条消息通过网络就够了。

###### 多媒体

RTP（实时传输协议）与RTCP（实时传输控制协议）都是位于UDP之上的协议，广泛应用于多媒体应用程序。


